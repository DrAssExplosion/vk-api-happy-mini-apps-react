{"version":3,"sources":["panels/Home.js","panels/PostOptions.js","panels/GroupInfo.js","App.js","index.js"],"names":["searchInput","e","d","target","value","a","bridge","send","window","obj_user_group_info","user_auth_token","data","result","response","console","log","document","querySelector","innerHTML","id","photo_200","name","members_count","getInfoGroupsUser","Home","go","fetchedUser","fetchedGroupsInfo","title","before","src","description","city","first_name","last_name","className","onChange","map","onClick","id_group","data-to","osName","platform","wallPost","start_congratulation","happy_list_name_congratulation","random_congratulation","attachments","happy_list_photo_congratulation","getDate","randomCongratulation","r","Math","round","random","congratulation","PostOptions","nameTitleOptions","left","IOS","asideContent","defaultChecked","disabled","align","mode","placeholder","rows","postMessageForUsers","alert","copy_in_buffer","inputValue","navigator","clipboard","writeText","then","catch","err","month_str","month_date","day","_d","toString","substring","group_id","count","birth_day","birth_month","has_photo","fields","access_token","v","i","groupsUserConst","items","length","undefined","photo_id","slice","getGroupsUser","GroupInfo","header","App","useState","activePanel","setActivePanel","setUser","setGroupsInfo","size","popout","setPopout","useEffect","token_t","fetchData","user","user_id","fetchGroupData","join","str_arr","groupsUserData","subscribe","detail","type","schemeAttribute","createAttribute","scheme","body","attributes","setNamedItem","fetchToken","currentTarget","dataset","to","bdate","objGroupsInfo","_hsMobileUI","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.545ed159.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport SearchInput from '.././components/SearchInput';\nimport Search from '@vkontakte/vkui/dist/components/Search/Search';\nimport bridge from '@vkontakte/vk-bridge';\n\nimport { Calendar } from \"@happysanta/vk-app-ui\";\n\nimport GroupsUserList from '.././components/GroupsUserList';\n\n/* Там где большой пробел\n <Search onChange={onChangeS} />\n <SearchInput />\n<Button size=\"xl\" level=\"2\"  >\nНайти группу\n</Button>\n*/\n\nconst DrowGroups = (e) => {\n\n\treturn(<p>{e}</p>)\n};\n\n\n\n\n\nconst Home = ({ id, go, fetchedUser, fetchedGroupsInfo }) => {\n\n\t//console.log(fetchedUser);\n\t//console.log(fetchedGroupsInfo);\n\n\treturn(\n\t\t<Panel id={id}>\n\t\t<PanelHeader>Поздравление с ДР</PanelHeader>\n\t\t{fetchedUser &&\n\t\t\t<Group title=\"User Data Fetched with VK Bridge\">\n\t\t\t<Cell\n\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</Cell>\n\t\t\t</Group>\n\t\t}\n\n\t\t<Group>\n\t\t<Div>\n\n\t\t<Search className='inputSearch' onChange={searchInput} />\n\n\n\t\t<Group>\n\t\t<List>\n\t\t<Div> \n\n\t\t<Div  ></Div>\n\n\t\t<Group className='resultSearch'>\n\t\t \n\t</Group>\n\n\t{fetchedGroupsInfo &&\n\t\t<Group>\n\t\t{ fetchedGroupsInfo.response.map(function(e) {\n\t\t\treturn(\n\t\t\t\t<Cell onClick={go} id_group={e.id} data-to=\"groupinfo\"\n\t\t\t\tbefore={e.photo_200 ? <Avatar src={e.photo_200}/> : null}\n\t\t\t\tdescription={e.members_count}\n\t\t\t\t>\n\t\t\t\t{`${e.name}`}\n\t\t\t\t</Cell>\n\t\t\t\t)\n\t\t})\n\t}\n\t</Group>}\n\n\n\n\t</Div>\n\t</List>\n\t</Group>\n\n\t</Div>\n\t</Group>\n\t</Panel>\n\t);\n}\n\nHome.propTypes = {\n\tfetchedGroupsInfo: PropTypes.shape({\n\t\tid: PropTypes.string,\n\t\tname: PropTypes.string,\n\t}),\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tshare: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nconst searchInput = (e) => {\n\tlet d = e.target.value;\n\tconsole.log(d);\n\t\n\n\tasync function getInfoGroupsUser() {\n\t\tconst data = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\"method\": \"groups.getById\",\n\t\t\t\"params\": {\n\t\t\t\t\"fields\": 'members_count',\n\t\t\t\t\"group_ids\": e.target.value,\n\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\"v\": \"5.103\"\n\t\t\t}\n\t\t})\n\t\tlet result = data.response[0];\n\t\tconsole.log(result);\n\t\tdocument.querySelector('.resultSearch').innerHTML = `\n\t\t<div id_group=\"${result.id}\" data-to=\"groupinfo\" class=\"Cell Cell--ios Cell--m\">\n\t\t<div role=\"button\" class=\"Tappable Tappable--ios Cell__in Tappable--inactive\">\n\t\t<div class=\"Cell__before\">\n\t\t<div class=\"Cell__before-in\">\n\t\t<div class=\"Avatar Avatar--ios Avatar--type-default\">\n\t\t<div class=\"Avatar__in\">\n\t\t<img class=\"Avatar__img\" src=\"${result.photo_200}\" style=\"width: 48px; height: 48px; border-radius: 50%;\">\n\t\t</div>\n\t\t</div>\n\t\t</div>\n\t\t</div>\n\t\t<div class=\"Cell__main\">\n\t\t<div class=\"Cell__children\">\n\t\t${result.name}\n\t\t</div>\n\t\t<div class=\"Cell__description\">\n\t\t${result.members_count}\n\t\t</div>\n\t\t</div>\n\t\t<div class=\"Cell__indicator\">\n\t\t</div>\n\t\t<div class=\"Cell__aside\">\n\t\t</div>\n\t\t</div>\n\t\t</div>\n\t\t`;\n\t};\n\tgetInfoGroupsUser(d);\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport bridge from '@vkontakte/vk-bridge';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport { Calendar, Box, Gray } from \"@happysanta/vk-app-ui\";\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\nimport Switch from '@vkontakte/vkui/dist/components/Switch/Switch';\nimport Textarea from '@vkontakte/vkui/dist/components/Textarea/Textarea';\n\nimport onChange from './GroupInfo';\n\n\nconst osName = platform();\n\n\nasync function wallPost() {\n\tconst wallPostResult = await bridge.send(\"VKWebAppShowWallPostBox\", {\n\t\t\"message\": window.obj_user_group_info.start_congratulation+'\\n\\n'+window.obj_user_group_info.happy_list_name_congratulation+'\\n\\n'+window.obj_user_group_info.random_congratulation,\n\t\tattachments: window.obj_user_group_info.happy_list_photo_congratulation,\n\t});\n};\n\nconst getDate = (e) => {\n\tconsole.log(e);\n};\n\nconst randomCongratulation = () => {\n\tlet r = Math.round(Math.random()*10);\n\twindow.obj_user_group_info.random_congratulation = congratulation[r];\n\tdocument.querySelector('.Textarea__el').value = window.obj_user_group_info.random_congratulation;\n};\n\n\nconst PostOptions = ({id, go}) => {\n\n  // С настройками\n  if(window.obj_user_group_info.nameTitleOptions == 1 ) {\n  \treturn(\n\n  \t\t<Panel id={id}>\n  \t\t<PanelHeader \n  \t\tleft={<PanelHeaderButton onClick={go} data-to=\"groupinfo\">\n  \t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n  \t\t</PanelHeaderButton>}\n  \t\t>Пост с настройками\n  \t\t</PanelHeader>\n\n  \t\t<Group>\n\n  \t\t<Cell asideContent={<Switch defaultChecked />}>\n  \t\tКомментарии к записям\n  \t\t</Cell>\n  \t\t<Cell asideContent={<Switch disabled />}>\n  \t\tОт имени группы (если это возможно)\n  \t\t</Cell>\n\n\n  \t\t<Div align='center'>\n\n  \t\t<Cell>\n  \t\tДата публикации <br/>\n  \t\t<Calendar onChange={getDate} />\n  \t\t</Cell>\n\n \n  \t\t<Button onClick={randomCongratulation} mode=\"outline\">Случайное поздравление</Button>\n  \t\t\n\n  \t\t<Box>\n  \t\t<Textarea className='randCongBlock'  placeholder=\"Поздравление\" rows={1} />\n\n  \t\t</Box>\n\n\n  \t\t<Button onClick={wallPost} mode=\"commerce\">Разместить пост</Button>\n\n  \t\t</Div>\n\n\n  \t\t</Group>\n  \t\t</Panel>\n  \t\t);\n  } \n  // Без настроек\n  else if(window.obj_user_group_info.nameTitleOptions == 0 ) {\n  \treturn(\n\n  \t\t<Panel id={id}>\n  \t\t<PanelHeader \n  \t\tleft={<PanelHeaderButton onClick={go} data-to=\"groupinfo\">\n  \t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n  \t\t</PanelHeaderButton>}\n  \t\t>Пост без настроек\n  \t\t</PanelHeader>\n  \t\t<Group>\n  \t\t<Div align='center'>\n  \t\t<Button onClick={randomCongratulation} mode=\"outline\">Случайное поздравление</Button> \t\t\n  \t\t<Box>\n  \t\t<Textarea className='randCongBlock'  placeholder=\"Поздравление\" rows={1} />\n  \t\t</Box>\n  \t\t<Button onClick={wallPost} mode=\"commerce\">Разместить пост</Button>\n  \t\t</Div>\n  \t\t</Group>\n  \t\t</Panel>\n  \t\t);\n  }\n\n}\n\n\nconst congratulation = [\n\n\"Очень приятно вас поздравлять ! \\n Хочу в этот праздник вам пожелать \\n Чтоб била энергия жизни ключом \\n Любая работа была нипочем\",\n\n\"Вам есть чем гордиться , что праздновать ,\\n Куда никогда не опаздывать ,\\n О чем волноваться , чем жить ,\\n И дело , что стоит любить !\",\n\n\"Желаю здоровья , активности ,\\n В работе – большой продуктивности !\\n Ценить коллектив , без сомнения ,\\n Всегда быть его украшением !\",\n\n\"Желаем счастья в этот день,\\n Тепла от всех кто будет рядом.\\n Улыбок светлых на лице\\n И солнечных лучей в награду.\\n Желаем множества удач,\\n Желаем молодости вечной,\\n Пусть все исполнятся мечты\\n И счастье будет бесконечным!\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Желаем счастья в этот день,\\n Тепла от всех кто будет рядом.\\n Улыбок светлых на лице\\n И солнечных лучей в награду.\\n Желаем множества удач,\\n Желаем молодости вечной,\\n Пусть все исполнятся мечты\\n И счастье будет бесконечным!\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Очень приятно вас поздравлять ! \\n Хочу в этот праздник вам пожелать \\n Чтоб била энергия жизни ключом \\n Любая работа была нипочем\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n];\n\n\n\n\n\n\n\n\n\nPostOptions.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default PostOptions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport bridge from '@vkontakte/vk-bridge';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport { Calendar } from \"@happysanta/vk-app-ui\";\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\n\nimport PostOptions from './PostOptions';\n\nconst osName = platform();\n\n\nconst postMessageForUsers = () => {\n\talert('В данный момент кнопка на ремонте. \\n\\n Извеняюсь за предоставленные неудобства');\n};\n\nconst copy_in_buffer = () => {\n\tlet inputValue = window.obj_user_group_info.happy_list_name_congratulation;\n\tif (inputValue) {\n\t\tnavigator.clipboard.writeText(inputValue)\n\t\t.then(() => {\n\t\t})\n\t\t.catch(err => {\n\t\t\talert('Произошла ошибка при копировании', err);\n\t\t})\n\t}\n};\n\n\n\nconst GroupInfo = ({id, go}) => (\n\n\t<Panel id={id}>\n\t<PanelHeader \n\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\n\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t</PanelHeaderButton>}\n\t>Информация о группе\n\t</PanelHeader>\n\n\n\t<Div align='center'>Когда день рождения у пользователя ?</Div>\n\n\t<Div align='center'>\n\t<Calendar onChange={onChange} />\n\t</Div>\n\n\t<Div align='center' className='happyDataDiv'></Div>\n\t\n\n\n\t<br/>\n\t<Div align='center'>\n\t<Group header={<Header mode=\"secondary\">Разместить пост</Header>}>\n\n\t<Button nameTitleOptions='1' onClick={go} data-to=\"postoptions\" mode=\"commerce\">С настройками</Button>\n\t<br/>\n\t<br/>\n\t<Button nameTitleOptions='0' onClick={go} data-to=\"postoptions\" mode=\"commerce\">Без настроек</Button>\n\t<br/>\n\t<br/>\n\t<Button onClick={postMessageForUsers} mode=\"primary\">Разослать сообщения с поздравлениями</Button>\n\t<br/>\n\t<br/>\n\t<Button onClick={copy_in_buffer} mode=\"primary\">Скопировать имена с фамилиями как ссылки</Button>\n\n\t</Group>\n\t</Div>\n\n\t</Panel>\n\t);\n\nconst onChange = (e) => {\n\tlet day = e._d.toString().substring(8, 10);\n\tlet month = e._d.toString().substring(4, 7);\n\tlet month_str;\n\tlet month_date;\n\n\tswitch (month) {\n\t\tcase \"Jan\":\n\t\tmonth_str = \"Января\";\n\t\tmonth_date = 1;\n\t\tbreak;\n\n\t\tcase \"Feb\":\n\t\tmonth_str = \"Февраля\";\n\t\tmonth_date = 2;\n\t\tbreak;\n\n\t\tcase \"Mar\":\n\t\tmonth_str = \"Марта\";\n\t\tmonth_date = 3;\n\t\tbreak;\n\n\t\tcase \"Apr\":\n\t\tmonth_str = \"Апреля\";\n\t\tmonth_date = 4;\n\t\tbreak;\n\n\t\tcase \"May\":\n\t\tmonth_str = \"Мая\";\n\t\tmonth_date = 5;\n\t\tbreak;\n\n\t\tcase \"Jun\":\n\t\tmonth_str = \"Июня\";\n\t\tmonth_date = 6;\n\t\tbreak;\n\n\t\tcase \"Jul\":\n\t\tmonth_str = \"Июоя\";\n\t\tmonth_date = 7;\n\t\tbreak;\n\n\t\tcase \"Aug\":\n\t\tmonth_str = \"Августа\";\n\t\tmonth_date = 8;\n\t\tbreak;\n\n\t\tcase \"Sep\":\n\t\tmonth_str = \"Сентября\";\n\t\tmonth_date = 9;\t\n\t\tbreak;\n\n\t\tcase \"Oct\":\n\t\tmonth_str = \"Октабря\";\n\t\tmonth_date = 10;\n\t\tbreak;\n\n\t\tcase \"Nov\":\n\t\tmonth_str = \"Ноября\";\n\t\tmonth_date = 11;\n\t\tbreak;\n\n\t\tcase \"Dec\":\n\t\tmonth_str = \"Декабря\";\n\t\tmonth_date = 12;\n\t\tbreak;\n\n\t\tdefault:\n\t\talert( \"Нет таких значений\" );\n\t}\n\n\n\tlet str_res;\n\tstr_res = e._d.toString().substring(0, 15);\n\tdocument.querySelector('.happyDataDiv').innerHTML = `<h3>${day} ${month_str}</h3>`;\n\n\tasync function getGroupsUser() {\n\t\tconst groupsUserConst = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\"method\": \"users.search\",\n\t\t\t\"params\": {\n\t\t\t\tgroup_id: window.obj_user_group_info.group_id,\n\t\t\t\tcount: 500,\n\t\t\t\tbirth_day: day,\n\t\t\t\tbirth_month: month_date,\n\t\t\t\thas_photo: 1,  \n\t\t\t\tfields:'photo_id,photo_50,bdate',\n\t\t\t\taccess_token: window.obj_user_group_info.user_auth_token,\n\t\t\t\tv: \"5.103\"\n\t\t\t}\n\t\t})\n\t\twindow.obj_user_group_info.happy_list_name_congratulation = '';\n\n\t\tfor (var i in groupsUserConst.response.items) {\n\t\t\twindow.obj_user_group_info.happy_list_name_congratulation += ' [id'+groupsUserConst.response.items[i].id+'|' + groupsUserConst.response.items[i].first_name + ' '+groupsUserConst.response.items[i].last_name+ \n\t\t\t'] '+\n\t\t\t'';\n\t\t}\n\n\t\twindow.obj_user_group_info.happy_list_photo_congratulation = '';\n\t\tif(groupsUserConst.response.items.length > 11) {\n\t\t\tfor (let i = 0; i < 10; i++) {\n\t\t\t\tif (groupsUserConst.response.items[i].photo_id != undefined && groupsUserConst.response.items[i].photo_id != null) {\n\t\t\t\t\twindow.obj_user_group_info.happy_list_photo_congratulation += ',photo'+groupsUserConst.response.items[i].photo_id;\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.obj_user_group_info.happy_list_photo_congratulation = window.obj_user_group_info.happy_list_photo_congratulation.slice(1); // Удалить запятую в начале\n\t\t\tconsole.log(window.obj_user_group_info.happy_list_photo_congratulation);\n\n\t\t}\n\t\tdocument.querySelector('.happyDataDiv').innerHTML += `\n\t\t<h3>Найдено ${groupsUserConst.response.count} именинников</h3>\n\t\t`;\n\t};\n\tgetGroupsUser();\n\n};\n\nGroupInfo.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default GroupInfo;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\n// import Persik from './panels/Persik';\nimport GroupInfo from './panels/GroupInfo';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport PostOptions from './panels/PostOptions';\n\nconst App = () => {\n\n\n\tconst [activePanel, setActivePanel] = useState('home');\n\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [fetchedGroupsInfo, setGroupsInfo] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\n\n\tuseEffect(() => {\n\n\t\tasync function fetchToken() {\n\t\t\tconst token_t = await bridge.send(\"VKWebAppGetAuthToken\", {\n\t\t\t\t\"app_id\": 7348710,\n\t\t\t\t\"scope\":\"friends,groups\",\n\t\t\t})\n\t\t\twindow.obj_user_group_info.user_auth_token = token_t.access_token;\n\t\t\tfetchData();\n\t\t}\n\t\t\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user); \n\t\t\twindow.obj_user_group_info.user_id = user.id;\n\t\t\tfetchGroupData();\n\t\t};\n\t\tasync function fetchGroupData() {\n\t\t\tconst groupsUserConst = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\"method\": \"groups.get\",\n\t\t\t\t\"params\": {\n\t\t\t\t\tcount: 15,\n\t\t\t\t\t\"user_ids\": window.obj_user_group_info.user_id,\n\t\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\t\"v\": \"5.103\"\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet str_res = groupsUserConst.response.items.join(',');\n\t\t\tgetInfoGroupsUser(str_res).catch(alert);\n\t\t};\n\t\tasync function getInfoGroupsUser(str_arr) {\n\t\t\tconst groupsUserData = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\"method\": \"groups.getById\",\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"fields\": 'members_count',\n\t\t\t\t\t\"group_ids\": str_arr,\n\t\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\t\"v\": \"5.103\"\n\t\t\t\t}\n\t\t\t})\n\t\t\tsetGroupsInfo(groupsUserData); \n\t\t\tsetPopout(null);\n\t\t};\n\n\t\tfetchToken();\n\n\t}, []);\n\n\n\tconst go = e => {\n\t\tif(e.currentTarget.attributes.id_group != undefined && e.currentTarget.attributes.id_group != null) {\n\t\t\twindow.obj_user_group_info.group_id = e.currentTarget.attributes.id_group.value;\n\t\t}\n\n\t\tif(e.currentTarget.attributes.nameTitleOptions != undefined && e.currentTarget.attributes.nameTitleOptions != null) {\n\t\t\twindow.obj_user_group_info.nameTitleOptions = e.currentTarget.attributes.nameTitleOptions.value;\n\t\t}\n\n\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t<Home fetchedGroupsInfo={fetchedGroupsInfo} id='home' fetchedUser={fetchedUser} go={go} />\n\t\t<GroupInfo id='groupinfo' go={go} />\n\t\t<PostOptions id='postoptions' go={go} />\n\t\t</View>\n\t\t);\n\n\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport '@happysanta/vk-app-ui/dist/vkappui.css';\n\n\n\n\n\nwindow.obj_user_group_info = {\n\tgroup_id: '',\n\tbdate: '',\n\tuser_id: '',\n\tuser_auth_token: '',\n\tobjGroupsInfo: [],\n\tnameTitleOptions: '',\n\tstart_congratulation: 'Сегодня мы спешим поздравить наших сообщников с ДНЕМ РОЖДЕНИЯ !!!! \\n\\n\\n',\n\trandom_congratulation: '',\n\thappy_list_name_congratulation: '', // Именинники для поста\n\thappy_list_photo_congratulation: '', // Фотографии именинников для поста\n};\n\n\n\nwindow._hsMobileUI = true; // тут условие которое ставит true/false в зависимости от устройства.\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n\n// if (process.env.NODE_ENV === \"development\") {\n//   import(\"./eruda\").then(eruda => {}); //runtime download\n// }\n"],"sourceRoot":""}