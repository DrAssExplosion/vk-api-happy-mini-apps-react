{"version":3,"sources":["panels/Home.js","panels/PostOptions.js","panels/GroupInfo.js","App.js","index.js"],"names":["Home","id","go","fetchedUser","fetchedGroupsInfo","title","before","photo_200","src","description","city","first_name","last_name","onChange","e","a","bridge","send","target","value","window","obj_user_group_info","user_auth_token","data","result","response","result2","onClick","id_group","data-to","members_count","name","ReactDOM","render","document","querySelector","getInfoGroupsUser","className","map","osName","platform","wallPost","start_congratulation","happy_list_name_congratulation","random_congratulation","attachments","happy_list_photo_congratulation","getDate","console","log","randomCongratulation","r","Math","round","random","congratulation","PostOptions","nameTitleOptions","left","IOS","asideContent","defaultChecked","disabled","align","mode","placeholder","rows","postMessageForUsers","alert","copy_in_buffer","inputValue","navigator","clipboard","writeText","then","catch","err","month_str","month_date","day","_d","toString","substring","group_id","count","birth_day","birth_month","has_photo","fields","access_token","v","i","groupsUserConst","items","length","undefined","photo_id","slice","innerHTML","getGroupsUser","GroupInfo","header","App","useState","activePanel","setActivePanel","setUser","setGroupsInfo","size","popout","setPopout","useEffect","token_t","fetchData","user","user_id","fetchGroupData","join","str_arr","groupsUserData","subscribe","detail","type","schemeAttribute","createAttribute","scheme","body","attributes","setNamedItem","fetchToken","currentTarget","dataset","to","bdate","objGroupsInfo","_hsMobileUI","getElementById"],"mappings":"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","file":"static/js/main.21d09eb2.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport Search from '@vkontakte/vkui/dist/components/Search/Search';\nimport bridge from '@vkontakte/vk-bridge';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport { Calendar } from \"@happysanta/vk-app-ui\";\n\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ReactDOM from \"react-dom\";\n/* Там где большой пробел\n <Search onChange={onChangeS} />\n <SearchInput />\n<Button size=\"xl\" level=\"2\"  >\nНайти группу\n</Button>\n*/\n\n\n\nconst onIconClick2 = (e) => {\n\tconsole.log(e.target.value);\n};\n\n\n\n\n\n\nconst Home = ({ id, go, fetchedUser, fetchedGroupsInfo }) => {\n\n\tconst searchInput = (e) => {\n\n\t\tasync function getInfoGroupsUser() {\n\t\t\tconst data = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\"method\": \"groups.getById\",\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"fields\": 'members_count',\n\t\t\t\t\t\"group_ids\": e.target.value,\n\t\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\t\"v\": \"5.103\"\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet result = data.response[0];\n\t\t\t// console.log(result);\n\n\t\t\tconst result2 = (\n\t\t\t\t<Group>\n\t\t\t\t<Cell onClick={go} id_group={result.id} data-to=\"groupinfo\"\n\t\t\t\tbefore={result.photo_200 ? <Avatar src={result.photo_200}/> : null}\n\t\t\t\tdescription={result.members_count}\n\t\t\t\t>\n\t\t\t\t{`${result.name}`}\n\t\t\t\t</Cell>\n\t\t\t\t</Group>\n\t\t\t\t);\n\n\t\t\tReactDOM.render(result2, document.querySelector('.resultSearch'));\n\t\t};\n\t\tgetInfoGroupsUser();\n\t};\n\n\treturn(\n\t\t<Panel id={id}>\n\t\t<PanelHeader>Поздравление с ДР</PanelHeader>\n\t\t{fetchedUser &&\n\t\t\t<Group title=\"User Data Fetched with VK Bridge\">\n\t\t\t<Cell\n\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</Cell>\n\t\t\t</Group>\n\t\t}\n\n\t\t<Group>\n\t\t<Div>\n\n\t\t<Search onChange={searchInput} />\n\n\t\t<Group>\n\n\t\t<List>\n\t\t<Div className='resultSearch'></Div>\n\t\t<Div> \n\n\t\t{fetchedGroupsInfo &&\n\t\t\t<Group>\n\t\t\t{ fetchedGroupsInfo.response.map(function(e) {\n\t\t\t\treturn(\n\t\t\t\t\t<Cell onClick={go} id_group={e.id} data-to=\"groupinfo\"\n\t\t\t\t\tbefore={e.photo_200 ? <Avatar src={e.photo_200}/> : null}\n\t\t\t\t\tdescription={e.members_count}\n\t\t\t\t\t>\n\t\t\t\t\t{`${e.name}`}\n\t\t\t\t\t</Cell>\n\t\t\t\t\t)\n\t\t\t})\n\t\t}\n\t\t</Group>}\n\n\n\n\t\t</Div>\n\t\t</List>\n\t\t</Group>\n\n\t\t</Div>\n\t\t</Group>\n\t\t</Panel>\n\t\t);\n}\n\nHome.propTypes = {\n\tfetchedGroupsInfo: PropTypes.shape({\n\t\tid: PropTypes.string,\n\t\tname: PropTypes.string,\n\t}),\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tshare: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\n\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport bridge from '@vkontakte/vk-bridge';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport { Calendar, Box, Gray } from \"@happysanta/vk-app-ui\";\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\nimport Switch from '@vkontakte/vkui/dist/components/Switch/Switch';\nimport Textarea from '@vkontakte/vkui/dist/components/Textarea/Textarea';\n\nimport onChange from './GroupInfo';\n\n\nconst osName = platform();\n\n\nasync function wallPost() {\n\tconst wallPostResult = await bridge.send(\"VKWebAppShowWallPostBox\", {\n\t\t\"message\": window.obj_user_group_info.start_congratulation+'\\n\\n'+window.obj_user_group_info.happy_list_name_congratulation+'\\n\\n'+window.obj_user_group_info.random_congratulation,\n\t\tattachments: window.obj_user_group_info.happy_list_photo_congratulation,\n\t});\n};\n\nconst getDate = (e) => {\n\tconsole.log(e);\n};\n\nconst randomCongratulation = () => {\n\tlet r = Math.round(Math.random()*10);\n\twindow.obj_user_group_info.random_congratulation = congratulation[r];\n\tdocument.querySelector('.Textarea__el').value = window.obj_user_group_info.random_congratulation;\n};\n\n\nconst PostOptions = ({id, go}) => {\n\n  // С настройками\n  if(window.obj_user_group_info.nameTitleOptions == 1 ) {\n  \treturn(\n\n  \t\t<Panel id={id}>\n  \t\t<PanelHeader \n  \t\tleft={<PanelHeaderButton onClick={go} data-to=\"groupinfo\">\n  \t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n  \t\t</PanelHeaderButton>}\n  \t\t>Пост с настройками\n  \t\t</PanelHeader>\n\n  \t\t<Group>\n\n  \t\t<Cell asideContent={<Switch defaultChecked />}>\n  \t\tКомментарии к записям\n  \t\t</Cell>\n  \t\t<Cell asideContent={<Switch disabled />}>\n  \t\tОт имени группы (если это возможно)\n  \t\t</Cell>\n\n\n  \t\t<Div align='center'>\n\n  \t\t<Cell>\n  \t\tДата публикации <br/>\n  \t\t<Calendar onChange={getDate} />\n  \t\t</Cell>\n\n \n  \t\t<Button onClick={randomCongratulation} mode=\"outline\">Случайное поздравление</Button>\n  \t\t\n\n  \t\t<Box>\n  \t\t<Textarea className='randCongBlock'  placeholder=\"Поздравление\" rows={1} />\n\n  \t\t</Box>\n\n\n  \t\t<Button onClick={wallPost} mode=\"commerce\">Разместить пост</Button>\n\n  \t\t</Div>\n\n\n  \t\t</Group>\n  \t\t</Panel>\n  \t\t);\n  } \n  // Без настроек\n  else if(window.obj_user_group_info.nameTitleOptions == 0 ) {\n  \treturn(\n\n  \t\t<Panel id={id}>\n  \t\t<PanelHeader \n  \t\tleft={<PanelHeaderButton onClick={go} data-to=\"groupinfo\">\n  \t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n  \t\t</PanelHeaderButton>}\n  \t\t>Пост без настроек\n  \t\t</PanelHeader>\n  \t\t<Group>\n  \t\t<Div align='center'>\n  \t\t<Button onClick={randomCongratulation} mode=\"outline\">Случайное поздравление</Button> \t\t\n  \t\t<Box>\n  \t\t<Textarea className='randCongBlock'  placeholder=\"Поздравление\" rows={1} />\n  \t\t</Box>\n  \t\t<Button onClick={wallPost} mode=\"commerce\">Разместить пост</Button>\n  \t\t</Div>\n  \t\t</Group>\n  \t\t</Panel>\n  \t\t);\n  }\n\n}\n\n\nconst congratulation = [\n\n\"Очень приятно вас поздравлять ! \\n Хочу в этот праздник вам пожелать \\n Чтоб била энергия жизни ключом \\n Любая работа была нипочем\",\n\n\"Вам есть чем гордиться , что праздновать ,\\n Куда никогда не опаздывать ,\\n О чем волноваться , чем жить ,\\n И дело , что стоит любить !\",\n\n\"Желаю здоровья , активности ,\\n В работе – большой продуктивности !\\n Ценить коллектив , без сомнения ,\\n Всегда быть его украшением !\",\n\n\"Желаем счастья в этот день,\\n Тепла от всех кто будет рядом.\\n Улыбок светлых на лице\\n И солнечных лучей в награду.\\n Желаем множества удач,\\n Желаем молодости вечной,\\n Пусть все исполнятся мечты\\n И счастье будет бесконечным!\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Желаем счастья в этот день,\\n Тепла от всех кто будет рядом.\\n Улыбок светлых на лице\\n И солнечных лучей в награду.\\n Желаем множества удач,\\n Желаем молодости вечной,\\n Пусть все исполнятся мечты\\n И счастье будет бесконечным!\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Очень приятно вас поздравлять ! \\n Хочу в этот праздник вам пожелать \\n Чтоб била энергия жизни ключом \\n Любая работа была нипочем\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n];\n\n\n\n\n\n\n\n\n\nPostOptions.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default PostOptions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport bridge from '@vkontakte/vk-bridge';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport { Calendar } from \"@happysanta/vk-app-ui\";\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\n\nimport PostOptions from './PostOptions';\n\nconst osName = platform();\n\n\nconst postMessageForUsers = () => {\n\talert('В данный момент кнопка на ремонте. \\n\\n Извеняюсь за предоставленные неудобства');\n};\n\nconst copy_in_buffer = () => {\n\tlet inputValue = window.obj_user_group_info.happy_list_name_congratulation;\n\tif (inputValue) {\n\t\tnavigator.clipboard.writeText(inputValue)\n\t\t.then(() => {\n\t\t})\n\t\t.catch(err => {\n\t\t\talert('Произошла ошибка при копировании', err);\n\t\t})\n\t}\n};\n\n\n\nconst GroupInfo = ({id, go}) => (\n\n\t<Panel id={id}>\n\t<PanelHeader \n\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\n\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t</PanelHeaderButton>}\n\t>Информация о группе\n\t</PanelHeader>\n\n\n\t<Div align='center'>Когда день рождения у пользователя ?</Div>\n\n\t<Div align='center'>\n\t<Calendar onChange={onChange} />\n\t</Div>\n\n\t<Div align='center' className='happyDataDiv'></Div>\n\t\n\n\n\t<br/>\n\t<Div align='center'>\n\t<Group header={<Header mode=\"secondary\">Разместить пост</Header>}>\n\n\t<Button nameTitleOptions='1' onClick={go} data-to=\"postoptions\" mode=\"commerce\">С настройками</Button>\n\t<br/>\n\t<br/>\n\t<Button nameTitleOptions='0' onClick={go} data-to=\"postoptions\" mode=\"commerce\">Без настроек</Button>\n\t<br/>\n\t<br/>\n\t<Button onClick={postMessageForUsers} mode=\"primary\">Разослать сообщения с поздравлениями</Button>\n\t<br/>\n\t<br/>\n\t<Button onClick={copy_in_buffer} mode=\"primary\">Скопировать имена с фамилиями как ссылки</Button>\n\n\t</Group>\n\t</Div>\n\n\t</Panel>\n\t);\n\nconst onChange = (e) => {\n\tlet day = e._d.toString().substring(8, 10);\n\tlet month = e._d.toString().substring(4, 7);\n\tlet month_str;\n\tlet month_date;\n\n\tswitch (month) {\n\t\tcase \"Jan\":\n\t\tmonth_str = \"Января\";\n\t\tmonth_date = 1;\n\t\tbreak;\n\n\t\tcase \"Feb\":\n\t\tmonth_str = \"Февраля\";\n\t\tmonth_date = 2;\n\t\tbreak;\n\n\t\tcase \"Mar\":\n\t\tmonth_str = \"Марта\";\n\t\tmonth_date = 3;\n\t\tbreak;\n\n\t\tcase \"Apr\":\n\t\tmonth_str = \"Апреля\";\n\t\tmonth_date = 4;\n\t\tbreak;\n\n\t\tcase \"May\":\n\t\tmonth_str = \"Мая\";\n\t\tmonth_date = 5;\n\t\tbreak;\n\n\t\tcase \"Jun\":\n\t\tmonth_str = \"Июня\";\n\t\tmonth_date = 6;\n\t\tbreak;\n\n\t\tcase \"Jul\":\n\t\tmonth_str = \"Июоя\";\n\t\tmonth_date = 7;\n\t\tbreak;\n\n\t\tcase \"Aug\":\n\t\tmonth_str = \"Августа\";\n\t\tmonth_date = 8;\n\t\tbreak;\n\n\t\tcase \"Sep\":\n\t\tmonth_str = \"Сентября\";\n\t\tmonth_date = 9;\t\n\t\tbreak;\n\n\t\tcase \"Oct\":\n\t\tmonth_str = \"Октабря\";\n\t\tmonth_date = 10;\n\t\tbreak;\n\n\t\tcase \"Nov\":\n\t\tmonth_str = \"Ноября\";\n\t\tmonth_date = 11;\n\t\tbreak;\n\n\t\tcase \"Dec\":\n\t\tmonth_str = \"Декабря\";\n\t\tmonth_date = 12;\n\t\tbreak;\n\n\t\tdefault:\n\t\talert( \"Нет таких значений\" );\n\t}\n\n\n\tlet str_res;\n\tstr_res = e._d.toString().substring(0, 15);\n\tdocument.querySelector('.happyDataDiv').innerHTML = `<h3>${day} ${month_str}</h3>`;\n\n\tasync function getGroupsUser() {\n\t\tconst groupsUserConst = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\"method\": \"users.search\",\n\t\t\t\"params\": {\n\t\t\t\tgroup_id: window.obj_user_group_info.group_id,\n\t\t\t\tcount: 500,\n\t\t\t\tbirth_day: day,\n\t\t\t\tbirth_month: month_date,\n\t\t\t\thas_photo: 1,  \n\t\t\t\tfields:'photo_id,photo_50,bdate',\n\t\t\t\taccess_token: window.obj_user_group_info.user_auth_token,\n\t\t\t\tv: \"5.103\"\n\t\t\t}\n\t\t})\n\t\twindow.obj_user_group_info.happy_list_name_congratulation = '';\n\n\t\tfor (var i in groupsUserConst.response.items) {\n\t\t\twindow.obj_user_group_info.happy_list_name_congratulation += ' [id'+groupsUserConst.response.items[i].id+'|' + groupsUserConst.response.items[i].first_name + ' '+groupsUserConst.response.items[i].last_name+ \n\t\t\t'] '+\n\t\t\t'';\n\t\t}\n\n\t\twindow.obj_user_group_info.happy_list_photo_congratulation = '';\n\t\tif(groupsUserConst.response.items.length > 11) {\n\t\t\tfor (let i = 0; i < 10; i++) {\n\t\t\t\tif (groupsUserConst.response.items[i].photo_id != undefined && groupsUserConst.response.items[i].photo_id != null) {\n\t\t\t\t\twindow.obj_user_group_info.happy_list_photo_congratulation += ',photo'+groupsUserConst.response.items[i].photo_id;\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.obj_user_group_info.happy_list_photo_congratulation = window.obj_user_group_info.happy_list_photo_congratulation.slice(1); // Удалить запятую в начале\n\t\t\t// console.log(window.obj_user_group_info.happy_list_photo_congratulation);\n\n\t\t}\n\t\tdocument.querySelector('.happyDataDiv').innerHTML += `\n\t\t<h3>Найдено ${groupsUserConst.response.count} именинников</h3>\n\t\t`;\n\t};\n\tgetGroupsUser();\n\n};\n\nGroupInfo.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default GroupInfo;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\n// import Persik from './panels/Persik';\nimport GroupInfo from './panels/GroupInfo';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport PostOptions from './panels/PostOptions';\n\nconst App = () => {\n\n\n\tconst [activePanel, setActivePanel] = useState('home');\n\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [fetchedGroupsInfo, setGroupsInfo] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\n\n\tuseEffect(() => {\n\n\t\tasync function fetchToken() {\n\t\t\tconst token_t = await bridge.send(\"VKWebAppGetAuthToken\", {\n\t\t\t\t\"app_id\": 7348710,\n\t\t\t\t\"scope\":\"friends,groups\",\n\t\t\t})\n\t\t\twindow.obj_user_group_info.user_auth_token = token_t.access_token;\n\t\t\tfetchData();\n\t\t}\n\t\t\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user); \n\t\t\twindow.obj_user_group_info.user_id = user.id;\n\t\t\tfetchGroupData();\n\t\t};\n\t\tasync function fetchGroupData() {\n\t\t\tconst groupsUserConst = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\"method\": \"groups.get\",\n\t\t\t\t\"params\": {\n\t\t\t\t\tcount: 15,\n\t\t\t\t\t\"user_ids\": window.obj_user_group_info.user_id,\n\t\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\t\"v\": \"5.103\"\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet str_res = groupsUserConst.response.items.join(',');\n\t\t\tgetInfoGroupsUser(str_res).catch(alert);\n\t\t};\n\t\tasync function getInfoGroupsUser(str_arr) {\n\t\t\tconst groupsUserData = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\"method\": \"groups.getById\",\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"fields\": 'members_count',\n\t\t\t\t\t\"group_ids\": str_arr,\n\t\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\t\"v\": \"5.103\"\n\t\t\t\t}\n\t\t\t})\n\t\t\tsetGroupsInfo(groupsUserData); \n\t\t\tsetPopout(null);\n\t\t};\n\n\t\tfetchToken();\n\n\t}, []);\n\n\n\tconst go = e => {\n\t\tif(e.currentTarget.attributes.id_group != undefined && e.currentTarget.attributes.id_group != null) {\n\t\t\twindow.obj_user_group_info.group_id = e.currentTarget.attributes.id_group.value;\n\t\t}\n\n\t\tif(e.currentTarget.attributes.nameTitleOptions != undefined && e.currentTarget.attributes.nameTitleOptions != null) {\n\t\t\twindow.obj_user_group_info.nameTitleOptions = e.currentTarget.attributes.nameTitleOptions.value;\n\t\t}\n\n\t\t// console.log(e.currentTarget.dataset.to);\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n \n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t<Home fetchedGroupsInfo={fetchedGroupsInfo} id='home' fetchedUser={fetchedUser} go={go} />\n\t\t<GroupInfo id='groupinfo' go={go} />\n\t\t<PostOptions id='postoptions' go={go} />\n\t\t</View>\n\t\t);\n\n\n}\n\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport '@happysanta/vk-app-ui/dist/vkappui.css';\n\n\n\n\n\nwindow.obj_user_group_info = {\n\tgroup_id: '',\n\tbdate: '',\n\tuser_id: '',\n\tuser_auth_token: '',\n\tobjGroupsInfo: [],\n\tnameTitleOptions: '',\n\tstart_congratulation: 'Сегодня мы спешим поздравить наших сообщников с ДНЕМ РОЖДЕНИЯ !!!! \\n\\n\\n',\n\trandom_congratulation: '',\n\thappy_list_name_congratulation: '', // Именинники для поста\n\thappy_list_photo_congratulation: '', // Фотографии именинников для поста\n};\n\n\n\nwindow._hsMobileUI = true; // тут условие которое ставит true/false в зависимости от устройства.\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n\n// if (process.env.NODE_ENV === \"development\") {\n//   import(\"./eruda\").then(eruda => {}); //runtime download\n// }\n"],"sourceRoot":""}