{"version":3,"sources":["panels/Home.js","panels/GroupInfo.js","panels/PostOptions.js","App.js","index.js"],"names":["Home","id","go","fetchedUser","fetchedGroupsInfo","title","before","photo_200","src","description","city","first_name","last_name","onChange","e","a","bridge","send","target","value","window","obj_user_group_info","user_auth_token","data","result","response","result2","onClick","id_group","data-to","members_count","name","ReactDOM","render","document","querySelector","getInfoGroupsUser","className","map","osName","platform","postMessageForUsers","alert","copy_in_buffer","inputValue","happy_list_name_congratulation","navigator","clipboard","writeText","then","catch","err","month_str","month_date","day","_d","toString","substring","group_id","count","birth_day","birth_month","has_photo","fields","access_token","v","i","groupsUserConst","items","happy_list_photo_congratulation","length","undefined","photo_id","slice","innerHTML","getGroupsUser","GroupInfo","left","IOS","align","header","mode","nameTitleOptions","getDate","console","log","randomCongratulation","r","Math","round","random","random_congratulation","congratulation","PostOptions","postId","commentsCloseOrOpen","postWallGroupOrUserVal","wallPost","user_id","start_congratulation","attachments","asideContent","checked","getElementById","defaultChecked","disabled","placeholder","rows","App","useState","activePanel","setActivePanel","setUser","setGroupsInfo","size","popout","setPopout","useEffect","token_t","fetchData","user","fetchGroupData","join","str_arr","groupsUserData","subscribe","detail","type","schemeAttribute","createAttribute","scheme","body","attributes","setNamedItem","fetchToken","currentTarget","dataset","to","bdate","objGroupsInfo","_hsMobileUI"],"mappings":"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","file":"static/js/main.0f206152.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from \"react-dom\";\n\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport Search from '@vkontakte/vkui/dist/components/Search/Search';\nimport bridge from '@vkontakte/vk-bridge';\n\n// const onIconClick2 = (e) => {\n// \tconsole.log(e.target.value);\n// };\n\n\n\nconst Home = ({ id, go, fetchedUser, fetchedGroupsInfo }) => {\n\n\tconst searchInput = (e) => {\n\n\t\tasync function getInfoGroupsUser() {\n\t\t\tconst data = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\"method\": \"groups.getById\",\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"fields\": 'members_count',\n\t\t\t\t\t\"group_ids\": e.target.value,\n\t\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\t\"v\": \"5.103\"\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet result = data.response[0];\n\n\t\t\tconst result2 = (\n\t\t\t\t<Group>\n\t\t\t\t<Cell onClick={go} id_group={result.id} data-to=\"groupinfo\"\n\t\t\t\tbefore={result.photo_200 ? <Avatar src={result.photo_200}/> : null}\n\t\t\t\tdescription={result.members_count}\n\t\t\t\t>\n\t\t\t\t{`${result.name}`}\n\t\t\t\t</Cell>\n\t\t\t\t</Group>\n\t\t\t\t);\n\n\t\t\tReactDOM.render(result2, document.querySelector('.resultSearch'));\n\t\t};\n\t\tgetInfoGroupsUser();\n\t};\n\n\treturn(\n\t\t<Panel id={id}>\n\t\t<PanelHeader>Поздравление с ДР</PanelHeader>\n\t\t{fetchedUser &&\n\t\t\t<Group title=\"User Data Fetched with VK Bridge\">\n\t\t\t<Cell\n\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</Cell>\n\t\t\t</Group>\n\t\t}\n\n\t\t<Group>\n\t\t<Div>\n\t\t<Search onChange={searchInput} />\n\t\t<Group>\n\t\t<List>\n\t\t<Div className='resultSearch'></Div>\n\t\t<Div> \n\n\t\t{fetchedGroupsInfo &&\n\t\t\t<Group>\n\t\t\t{ fetchedGroupsInfo.response.map(function(e) {\n\t\t\t\treturn(\n\t\t\t\t\t<Cell onClick={go} id_group={e.id} data-to=\"groupinfo\"\n\t\t\t\t\tbefore={e.photo_200 ? <Avatar src={e.photo_200}/> : null}\n\t\t\t\t\tdescription={e.members_count}\n\t\t\t\t\t>\n\t\t\t\t\t{`${e.name}`}\n\t\t\t\t\t</Cell>\n\t\t\t\t\t)\n\t\t\t})\n\t\t}\n\t\t</Group> }\n\n\t</Div>\n\t</List>\n\t</Group>\n\n\t</Div>\n\t</Group>\n\t</Panel>\n\t);\n}\n\nHome.propTypes = {\n\tfetchedGroupsInfo: PropTypes.shape({\n\t\tid: PropTypes.string,\n\t\tname: PropTypes.string,\n\t}),\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tshare: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\n\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport bridge from '@vkontakte/vk-bridge';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport { Calendar } from \"@happysanta/vk-app-ui\";\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\n\n\nconst osName = platform();\n\n\nconst postMessageForUsers = () => {\n\talert('В данный момент кнопка на ремонте. \\n\\n Извеняюсь за предоставленные неудобства');\n};\n\n \nconst copy_in_buffer = () => {\t\n\tlet inputValue = window.obj_user_group_info.happy_list_name_congratulation;\n\tif (inputValue) {\n\t\tnavigator.clipboard.writeText(inputValue)\n\t\t.then(() => {\n\t\t})\n\t\t.catch(err => {\n\t\t\talert('Произошла ошибка при копировании', err);\n\t\t})\n\t}\n};\n\n\n\nconst GroupInfo = ({id, go}) => (\n\n\t<Panel id={id}>\n\t<PanelHeader \n\tleft={<PanelHeaderButton onClick={go} data-to=\"home\">\n\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t</PanelHeaderButton>}\n\t>Информация о группе\n\t</PanelHeader>\n\n\n\t<Div align='center'>Когда день рождения у пользователя ?</Div>\n\n\t<Div align='center'>\n\t<Calendar onChange={onChange} />\n\t</Div>\n\n\t<div align='center' className='happyDateDiv'></div>\n\t<div align='center' className='happyListDiv'></div>\n\n\t<br/>\n\t<Div align='center'>\n\t<Group header={<Header mode=\"secondary\">Разместить пост</Header>}>\n\n\t<Button nameTitleOptions='1' onClick={go} data-to=\"postoptions\" mode=\"commerce\">С настройками</Button>\n\t<br/>\n\t<br/>\n\t<Button nameTitleOptions='0' onClick={go} data-to=\"postoptions\" mode=\"commerce\">Без настроек</Button>\n\t<br/>\n\t<br/>\n\t<Button onClick={postMessageForUsers} mode=\"primary\">Разослать сообщения с поздравлениями</Button>\n\t<br/>\n\t<br/>\n\t<Button onClick={copy_in_buffer} mode=\"primary\">Скопировать имена с фамилиями как ссылки</Button>\n\n\t</Group>\n\t</Div>\n\n\t</Panel>\n\t);\n\nconst onChange = (e) => {\n\tlet day = e._d.toString().substring(8, 10);\n\tlet month = e._d.toString().substring(4, 7);\n\tlet month_str;\n\tlet month_date;\n\n\tswitch (month) {\n\t\tcase \"Jan\":\n\t\tmonth_str = \"Января\";\n\t\tmonth_date = 1;\n\t\tbreak;\n\n\t\tcase \"Feb\":\n\t\tmonth_str = \"Февраля\";\n\t\tmonth_date = 2;\n\t\tbreak;\n\n\t\tcase \"Mar\":\n\t\tmonth_str = \"Марта\";\n\t\tmonth_date = 3;\n\t\tbreak;\n\n\t\tcase \"Apr\":\n\t\tmonth_str = \"Апреля\";\n\t\tmonth_date = 4;\n\t\tbreak;\n\n\t\tcase \"May\":\n\t\tmonth_str = \"Мая\";\n\t\tmonth_date = 5;\n\t\tbreak;\n\n\t\tcase \"Jun\":\n\t\tmonth_str = \"Июня\";\n\t\tmonth_date = 6;\n\t\tbreak;\n\n\t\tcase \"Jul\":\n\t\tmonth_str = \"Июоя\";\n\t\tmonth_date = 7;\n\t\tbreak;\n\n\t\tcase \"Aug\":\n\t\tmonth_str = \"Августа\";\n\t\tmonth_date = 8;\n\t\tbreak;\n\n\t\tcase \"Sep\":\n\t\tmonth_str = \"Сентября\";\n\t\tmonth_date = 9;\t\n\t\tbreak;\n\n\t\tcase \"Oct\":\n\t\tmonth_str = \"Октабря\";\n\t\tmonth_date = 10;\n\t\tbreak;\n\n\t\tcase \"Nov\":\n\t\tmonth_str = \"Ноября\";\n\t\tmonth_date = 11;\n\t\tbreak;\n\n\t\tcase \"Dec\":\n\t\tmonth_str = \"Декабря\";\n\t\tmonth_date = 12;\n\t\tbreak;\n\n\t\tdefault:\n\t\talert( \"Нет таких значений\" );\n\t}\n\n\n\t// let str_res;\n\t// str_res = e._d.toString().substring(0, 15);\n\tdocument.querySelector('.happyDateDiv').innerHTML = `<h3>${day} ${month_str}</h3>`;\n\tdocument.querySelector('.happyListDiv').innerHTML = '';\n\n\tasync function getGroupsUser() {\n\t\tconst groupsUserConst = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\"method\": \"users.search\",\n\t\t\t\"params\": {\n\t\t\t\tgroup_id: window.obj_user_group_info.group_id,\n\t\t\t\tcount: 500,\n\t\t\t\tbirth_day: day,\n\t\t\t\tbirth_month: month_date,\n\t\t\t\thas_photo: 1,  \n\t\t\t\tfields:'photo_id,photo_50,bdate',\n\t\t\t\taccess_token: window.obj_user_group_info.user_auth_token,\n\t\t\t\tv: \"5.103\"\n\t\t\t}\n\t\t})\n\t\twindow.obj_user_group_info.happy_list_name_congratulation = '';\n\n\t\tfor (var i in groupsUserConst.response.items) {\n\t\t\twindow.obj_user_group_info.happy_list_name_congratulation += ' [id'+groupsUserConst.response.items[i].id+'|' + groupsUserConst.response.items[i].first_name + ' '+groupsUserConst.response.items[i].last_name+ \n\t\t\t'] '+\n\t\t\t'';\n\t\t}\n\n\t\twindow.obj_user_group_info.happy_list_photo_congratulation = '';\n\t\tif(groupsUserConst.response.items.length > 11) {\n\t\t\tfor (let i = 0; i < 10; i++) {\n\t\t\t\tif (groupsUserConst.response.items[i].photo_id !== undefined && groupsUserConst.response.items[i].photo_id !== null) {\n\t\t\t\t\twindow.obj_user_group_info.happy_list_photo_congratulation += ',photo'+groupsUserConst.response.items[i].photo_id;\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.obj_user_group_info.happy_list_photo_congratulation = window.obj_user_group_info.happy_list_photo_congratulation.slice(1);\n\t\t}\n\t\tdocument.querySelector('.happyListDiv').innerHTML = `\n\t\t<h3>Найдено ${groupsUserConst.response.count} именинников</h3>\n\t\t`;\n\t};\n\tgetGroupsUser();\n\n};\n\nGroupInfo.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default GroupInfo;\n","import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport bridge from '@vkontakte/vk-bridge';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport { Calendar, Box } from \"@happysanta/vk-app-ui\";\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Switch from '@vkontakte/vkui/dist/components/Switch/Switch';\nimport Textarea from '@vkontakte/vkui/dist/components/Textarea/Textarea';\n\n// import onChange from './GroupInfo';\n\n\nconst osName = platform();\n\n\nconst getDate = (e) => {\n  console.log(e);\n};\n\nconst randomCongratulation = () => {\n  let r = Math.round(Math.random()*10);\n  window.obj_user_group_info.random_congratulation = congratulation[r];\n  document.querySelector('.Textarea__el').value = window.obj_user_group_info.random_congratulation;\n};\n\n\n\n\nconst PostOptions = ({id, go}) => {\n\n  var commentsCloseOrOpen = 0; /* 0 - комментарии включены, 1 - комментарии отключены */\n  var postWallGroupOrUserVal = true; /* true - group, false - user */\n  var postId;\n\n  const postWallGroupOrUser = (e) => {\n  postWallGroupOrUserVal = e.target.checked; // true, false\n  if(postWallGroupOrUserVal === true) {\n    ReactDOM.render(\n      <p id='text_post_wall_switch'>Запись на стену группы</p>,\n      document.getElementById(\"text_post_wall_switch\"));\n  } else if(postWallGroupOrUserVal === false) {\n    ReactDOM.render(\n      <p id='text_post_wall_switch'>Запись на свою стену</p>,\n      document.getElementById(\"text_post_wall_switch\"));\n  }\n};\n\nconst commentsClose = (e) => {\n  commentsCloseOrOpen = +!e.target.checked; // true - 1, false - 0 \n  if(commentsCloseOrOpen === 1) {\n    ReactDOM.render(\n     <p id='text_comments_switch'>Комментарии к записям отключены</p>,\n     document.getElementById(\"text_comments_switch\"));\n  } else if(commentsCloseOrOpen === 0) {\n    ReactDOM.render(\n     <p id='text_comments_switch'>Комментарии к записям включены</p>,\n     document.getElementById(\"text_comments_switch\"));\n  }\n};\n\nasync function wallPost() {\n  if(postWallGroupOrUserVal === true) { // На стену группы\n    postId = '-' + window.obj_user_group_info.group_id;\n  } else if(postWallGroupOrUserVal === false) { // На стену пользователя\n   postId = window.obj_user_group_info.user_id;\n }\n\n\n const wallPostResult = await bridge.send(\"VKWebAppShowWallPostBox\", {\n  \"owner_id\": postId,\n  \"close_comments\": commentsCloseOrOpen,\n  \"message\": window.obj_user_group_info.start_congratulation+'\\n\\n'+window.obj_user_group_info.happy_list_name_congratulation+'\\n\\n'+window.obj_user_group_info.random_congratulation,\n  attachments: window.obj_user_group_info.happy_list_photo_congratulation,\n});\n};\n\n\n\n\n// С настройками\nif(window.obj_user_group_info.nameTitleOptions === '1' ) {\n  return(\n    <Panel id={id}>\n\n    <PanelHeader \n    left={<PanelHeaderButton onClick={go} data-to=\"groupinfo\">\n    {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    </PanelHeaderButton>}\n    >Пост с настройками\n    </PanelHeader>\n\n    <Group>\n\n    <Cell asideContent={<Switch onChange={postWallGroupOrUser} defaultChecked />}>\n    <p id='text_post_wall_switch'>Запись на стену группы</p>\n    </Cell>\n\n    <Cell asideContent={<Switch onChange={commentsClose} defaultChecked />}>\n    <p id='text_comments_switch'>Комментарии к записям включены</p>\n    </Cell>\n\n\n    <Cell asideContent={<Switch disabled />}>\n    <p id='text_from_group_of_user_switch'>От имени группы (если это возможно)</p>\n    </Cell>\n\n    <Div align='center'>\n\n    <Cell>\n    Дата публикации <br/>\n    <Calendar onChange={getDate} />\n    </Cell>\n\n    <Button onClick={randomCongratulation} mode=\"outline\">Случайное поздравление</Button>\n\n    <Box>\n    <Textarea className='randCongBlock'  placeholder=\"Поздравление\" rows={1} />\n    </Box>\n\n    <Button onClick={wallPost} mode=\"commerce\">Разместить пост</Button>\n\n    </Div>\n\n    </Group>\n    </Panel>\n    );\n} \n// Без настроек\nelse if(window.obj_user_group_info.nameTitleOptions === '0' ) {\n  return(\n\n    <Panel id={id}>\n    <PanelHeader \n    left={<PanelHeaderButton onClick={go} data-to=\"groupinfo\">\n    {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    </PanelHeaderButton>}\n    >Пост без настроек\n    </PanelHeader>\n    <Group>\n    <Div align='center'>\n    <Button onClick={randomCongratulation} mode=\"outline\">Случайное поздравление</Button> \t\t\n    <Box>\n    <Textarea className='randCongBlock'  placeholder=\"Поздравление\" rows={1} />\n    </Box>\n    <Button onClick={wallPost} mode=\"commerce\">Разместить пост</Button>\n    </Div>\n    </Group>\n    </Panel>\n    );\n}\n\n}\n\n\nconst congratulation = [\n\n\"Очень приятно вас поздравлять ! \\n Хочу в этот праздник вам пожелать \\n Чтоб била энергия жизни ключом \\n Любая работа была нипочем\",\n\n\"Вам есть чем гордиться , что праздновать ,\\n Куда никогда не опаздывать ,\\n О чем волноваться , чем жить ,\\n И дело , что стоит любить !\",\n\n\"Желаю здоровья , активности ,\\n В работе – большой продуктивности !\\n Ценить коллектив , без сомнения ,\\n Всегда быть его украшением !\",\n\n\"Желаем счастья в этот день,\\n Тепла от всех кто будет рядом.\\n Улыбок светлых на лице\\n И солнечных лучей в награду.\\n Желаем множества удач,\\n Желаем молодости вечной,\\n Пусть все исполнятся мечты\\n И счастье будет бесконечным!\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Желаем счастья в этот день,\\n Тепла от всех кто будет рядом.\\n Улыбок светлых на лице\\n И солнечных лучей в награду.\\n Желаем множества удач,\\n Желаем молодости вечной,\\n Пусть все исполнятся мечты\\n И счастье будет бесконечным!\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Очень приятно вас поздравлять ! \\n Хочу в этот праздник вам пожелать \\n Чтоб била энергия жизни ключом \\n Любая работа была нипочем\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n\"Поздравляю любимую группу с Днём Рожденья. Желаю ей процветания. И спасибо всем, кто активно участвуют в её жизни.\",\n\n];\n\n\n\n\nPostOptions.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n};\n\nexport default PostOptions;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Home from './panels/Home';\nimport GroupInfo from './panels/GroupInfo';\nimport PostOptions from './panels/PostOptions';\n\nconst App = () => {\n\n\n\tconst [activePanel, setActivePanel] = useState('home');\n\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [fetchedGroupsInfo, setGroupsInfo] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\n\n\tuseEffect(() => {\n\n\t\tasync function fetchToken() {\n\t\t\tconst token_t = await bridge.send(\"VKWebAppGetAuthToken\", {\n\t\t\t\t\"app_id\": 7348710,\n\t\t\t\t\"scope\":\"friends,groups\",\n\t\t\t})\n\t\t\twindow.obj_user_group_info.user_auth_token = token_t.access_token;\n\t\t\tfetchData();\n\t\t}\n\t\t\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user); \n\t\t\twindow.obj_user_group_info.user_id = user.id;\n\t\t\tfetchGroupData();\n\t\t};\n\t\tasync function fetchGroupData() {\n\t\t\tconst groupsUserConst = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\"method\": \"groups.get\",\n\t\t\t\t\"params\": {\n\t\t\t\t\tcount: 15,\n\t\t\t\t\t\"user_ids\": window.obj_user_group_info.user_id,\n\t\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\t\"v\": \"5.103\"\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet str_res = groupsUserConst.response.items.join(',');\n\t\t\tgetInfoGroupsUser(str_res).catch(alert);\n\t\t};\n\t\tasync function getInfoGroupsUser(str_arr) {\n\t\t\tconst groupsUserData = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\t\"method\": \"groups.getById\",\n\t\t\t\t\"params\": {\n\t\t\t\t\t\"fields\": 'members_count',\n\t\t\t\t\t\"group_ids\": str_arr,\n\t\t\t\t\t\"access_token\": window.obj_user_group_info.user_auth_token,\n\t\t\t\t\t\"v\": \"5.103\"\n\t\t\t\t}\n\t\t\t})\n\t\t\tsetGroupsInfo(groupsUserData); \n\t\t\tsetPopout(null);\n\t\t};\n\n\t\tfetchToken();\n\n\t}, []);\n\n\n\tconst go = e => {\n\t\tif(e.currentTarget.attributes.id_group !== undefined && e.currentTarget.attributes.id_group !== null) {\n\t\t\twindow.obj_user_group_info.group_id = e.currentTarget.attributes.id_group.value;\n\t\t}\n\n\t\tif(e.currentTarget.attributes.nameTitleOptions !== undefined && e.currentTarget.attributes.nameTitleOptions !== null) {\n\t\t\twindow.obj_user_group_info.nameTitleOptions = e.currentTarget.attributes.nameTitleOptions.value;\n\t\t}\n\n\t\t// console.log(e.currentTarget.dataset.to);\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n \n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t<Home fetchedGroupsInfo={fetchedGroupsInfo} id='home' fetchedUser={fetchedUser} go={go} />\n\t\t<GroupInfo id='groupinfo' go={go} />\n\t\t<PostOptions id='postoptions' go={go} />\n\t\t</View>\n\t\t);\n\n\n}\n\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\nimport '@happysanta/vk-app-ui/dist/vkappui.css';\n\n\n\n\n\nwindow.obj_user_group_info = {\n\tgroup_id: '',\n\tbdate: '',\n\tuser_id: '',\n\tuser_auth_token: '',\n\tobjGroupsInfo: [],\n\tnameTitleOptions: '',\n\tstart_congratulation: 'Сегодня мы спешим поздравить наших сообщников с ДНЕМ РОЖДЕНИЯ !!!! \\n\\n\\n',\n\trandom_congratulation: '',\n\thappy_list_name_congratulation: '', // Именинники для поста\n\thappy_list_photo_congratulation: '', // Фотографии именинников для поста\n};\n\n\n\nwindow._hsMobileUI = true; // тут условие которое ставит true/false в зависимости от устройства.\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n\n// if (process.env.NODE_ENV === \"development\") {\n//   import(\"./eruda\").then(eruda => {}); //runtime download\n// }\n"],"sourceRoot":""}